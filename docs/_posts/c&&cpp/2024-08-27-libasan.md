---
title:  "AddressSanitizer"
date:   2024-08-27 11:19:00 +0800
last_modified_at: 2024-08-27 11:20:00 +0800
categories: AddressSanitizer
tags: libasan
---

# libasan  

## Background  
For a business software, minimal error may lead critical issue in production environment.  
In the company's projects, we utilize address sanitization to identify potential issues, thereby enhancing the reliability of the program.  

##  Introduction
AddressSanitizer (aka ASan) is a memory error detector for C/C++.  

## Practice  
cat test_asan.c
```
#include <stdlib.h>

int test_use_after_free()
{
    char *x = (char*)malloc(10 * sizeof(char*));
    free(x);
    return x[5];
}

void test_stack_overflow()
{
    char buf[10] = {0};
    memset(buf, 0, 20);
}

int main()
{
    test_use_after_free();
    test_stack_overflow();
    return 0;
}

g++ -o bin_asan -g 
```

##  Common Usages  


## References  
[Google AddressSanitizer](https://github.com/google/sanitizers/wiki/AddressSanitizer)  
[Wiki AddressSanitizer](https://github.com/google/sanitizers/wiki/AddressSanitizer)  
https://llvm.org/docs/GettingStarted.html#getting-a-modern-host-c-toolchain  
